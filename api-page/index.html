<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ikyy API</title>
<link rel="icon" href="/src/icon.jpg" type="image/png">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<style>
body { background: #f0f4f8; color: #222; font-family: 'Poppins', sans-serif; }
/* Navbar */
.navbar { background: #fff !important; border-bottom: 1px solid #ddd; }
.navbar a, .navbar-brand, .nav-link { color: #222 !important; }
.dropdown-menu { background: #fff; border: 1px solid #ddd; }
.dropdown-item:hover { background: #e0e7ff; }
/* API Items */
.api-item { background: #f9fafb; border:1px solid #ddd; border-radius:8px; padding:14px; margin-bottom:12px; cursor:pointer; transition:.15s; }
.api-item:hover { background:#e0e7ff; box-shadow:0 0 8px rgba(59,130,246,0.3); }
/* Modal */
.modal-content { background:#fff !important; color:#222 !important; border:1px solid #ddd; }
pre { background:#f3f4f6; color:#1e293b; border:1px solid #ddd; border-radius:5px; padding:10px; overflow-x:auto; font-size:14px; height:100px; position:relative; }
.copy-btn { position:absolute; top:5px; right:5px; font-size:12px; padding:2px 6px; }
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg">
<div class="container">
<a class="navbar-brand">Ikyy API</a>
</div>
</nav>

<div class="container mt-4">
<div id="apiContent" class="tab-content"></div>
</div>

<!-- MODAL -->
<div class="modal fade" id="apiResponseModal" tabindex="-1" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content p-3 position-relative">

<button type="button" class="btn-close position-absolute top-0 end-0 m-2" data-bs-dismiss="modal"></button>

<div class="mb-2 position-relative">
<button class="copy-btn btn btn-sm btn-secondary" id="copyUrlBtn">Copy</button>
<pre id="apiEndpoint"></pre>
</div>

<div class="mb-2 position-relative">
<button class="copy-btn btn btn-sm btn-secondary" id="copyJsonBtn">Copy</button>
<pre id="apiResponseContent"></pre>
</div>

<div id="apiResponseLoading" class="d-none d-flex justify-content-center align-items-center" style="height:100px;">
<div class="spinner-border" role="status"></div>
</div>

<button id="submitQueryBtn" class="btn btn-primary w-100">Submit</button>

</div>
</div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Contoh API list
const apis = [
{ name:"AI 4Chat", path:"https://api-ikyyofficiall-latest.vercel.app/ai/ai4chat/chat?apikey=kyzz&question=halo+kamu+siapa" }
];

const apiContent = document.getElementById('apiContent');
const apiEndpoint = document.getElementById('apiEndpoint');
const apiResponseContent = document.getElementById('apiResponseContent');
const apiResponseLoading = document.getElementById('apiResponseLoading');
const modal = new bootstrap.Modal(document.getElementById('apiResponseModal'));

// Render list
apis.forEach(api => {
const div = document.createElement('div');
div.className='api-item';
div.textContent=api.name;
div.addEventListener('click',()=>openModal(api));
apiContent.appendChild(div);
});

function openModal(api){
apiEndpoint.textContent = api.path;
apiResponseContent.textContent = '';
apiResponseLoading.classList.remove('d-none');
apiResponseContent.classList.add('d-none');
modal.show();

fetch(api.path).then(r=>r.json())
.then(json=>{
apiResponseContent.textContent = JSON.stringify(json,null,2);
apiResponseContent.classList.remove('d-none');
apiResponseLoading.classList.add('d-none');
}).catch(err=>{
apiResponseContent.textContent = "Error: "+err;
apiResponseContent.classList.remove('d-none');
apiResponseLoading.classList.add('d-none');
});

// Copy buttons
document.getElementById('copyUrlBtn').onclick = ()=>navigator.clipboard.writeText(apiEndpoint.textContent);
document.getElementById('copyJsonBtn').onclick = ()=>navigator.clipboard.writeText(apiResponseContent.textContent);
}
</script>

</body>
</html>
